<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>{{title}}</title>
  <style>
    body { font-family: sans-serif; margin: 24px; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ddd; padding: 8px; font-size: 13px; }
    th { background: #f9f9f9; text-align: left; }
    tr:hover { background: #fafafa; }
    .meta { color: #666; margin-bottom: 12px; }
  </style>
</head>
<body>
<h1>{{title}}</h1>
<div class="meta">
  Market: <b>{{marketId}}</b>
  {{#if chainId}} · Chain: <b>{{chainId}}</b>{{/if}}
</div>

<table>
  <thead>
  <tr>
    <th>ID</th>
    <th>Timestamp</th>
    <th>Chain</th>
    <th>DEX</th>
    <th>Market</th>
    <th>Side</th>
    <th>Kind</th>
    <th>Fee</th>
    <th>Base</th>
    <th>Quote</th>
    <th>Latency</th>
    <th>Block</th>
  </tr>
  </thead>
  <tbody>
  {{#each quotes}}
    <tr>
      <td>{{id}}</td>
      <td>{{ts}}</td>
      <td>{{chainId}}</td>
      <td>{{dexId}}</td>
      <td>{{marketId}}</td>
      <td>{{side}}</td>
      <td>{{kind}}</td>
      <td>{{feeTier}}</td>
      <td>{{formatBase18 amountBase}}</td>
      <td>{{amountQuote}}</td>
      <td>{{ms latencyMs}}</td>
      <td>{{blockNumber}}</td>
    </tr>
  {{/each}}
  </tbody>
</table>

<!-- Таблица ArbEvals -->
<h2>Arbitrage Evaluation</h2>
<table>
  <thead>
  <tr>
    <th>Quote ID</th>
    <th>Best Buy</th>
    <th>Best Sell</th>
    <th>DEX Buy</th>
    <th>DEX Sell</th>
    <th>Gross Quote</th>
    <th>Gas Cost</th>
    <th>Net Profit</th>
    <th>Spread %</th>
    <th>Should Trade</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>{{arbEvals.quoteId}}</td>
    <td>{{arbEvals.bestBuy}}</td>
    <td>{{arbEvals.bestSell}}</td>
    <td>{{arbEvals.dexIdBuy}}</td>
    <td>{{arbEvals.dexIdSell}}</td>
    <td>{{arbEvals.grossQuote}}</td>
    <td>{{arbEvals.gasCost}}</td>
    <td>{{arbEvals.netProfit}}</td>
    <td>{{arbEvals.spreadPct}}</td>
    <td>{{arbEvals.shouldTrade}}</td>
  </tr>
  </tbody>
</table>

</body>
</html>
